{"version":3,"sources":["../../src/components/TableHead.tsx","../../src/components/TableCellHeader.tsx","../../src/TableBuilder.tsx","App.tsx","../../src/hooks/useTableActions.ts","index.tsx"],"names":["TableHead","children","colSpan","selected","selectable","items","toggleAll","toolbar","loading","rest","React","padding","indeterminate","checked","onChange","TableCellHeader","PAGINATION_SIZES","TableBuilder","className","columns","noDataMessage","draggable","labelRowsPerPage","rowsPerPageOptions","rowsPerPage","DEFAULT_PAGINATION_SIZE","count","page","onPageChange","data","selectKey","isChecked","toggle","noOfColumns","title","key","renderLoading","collection","renderEmpty","renderTable","isSelected","rowData","hover","index","dataIndex","animation","variant","onChangePage","currentPage","onChangeRowsPerPage","parseInt","e","App","initial","compareFunc","a","useState","listElements","setListElements","listElement","add","remove","reset","set","allItems","useTableActions","Array","map","firstName","faker","name","lastName","email","internet","phone","phoneNumber","id","toString","console","log","length","item","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08cdadb9.chunk.js","sourcesContent":["import React from 'react'\nimport MuiTableHead, {\n  TableHeadProps as MuiTableHeadProps\n} from '@material-ui/core/TableHead'\nimport MUITableRow from '@material-ui/core/TableRow'\nimport MUITableCell from '@material-ui/core/TableCell'\nimport MUICheckbox from '@material-ui/core/Checkbox'\n\nimport Typography from '@material-ui/core/Typography'\n\nexport interface TableHeadProps<T> extends MuiTableHeadProps {\n  colSpan?: number\n  selected?: number\n  toolbar?: React.ReactNode | React.ReactNodeArray\n  selectable?: boolean\n  draggable?: boolean\n  items?: T[]\n  toggleAll?: (items: T[], selected: number) => void\n  loading?: boolean\n}\n\nconst TableHead = ({\n  children,\n  colSpan = 1,\n  selected = 0,\n  selectable,\n  items,\n  toggleAll,\n  toolbar,\n  loading = false,\n  ...rest\n}: TableHeadProps<any>) => {\n  return (\n    <MuiTableHead {...rest}>\n      <MUITableRow selected={!!selected}>\n        {!loading && selectable && items !== undefined && items.length > 0 && (\n          <MUITableCell padding='checkbox'>\n            <MUICheckbox\n              indeterminate={items && items.length > selected && selected > 0}\n              checked={selected !== 0}\n              onChange={() => {\n                if (toggleAll && items) {\n                  toggleAll(items, selected)\n                }\n              }}\n            />\n          </MUITableCell>\n        )}\n\n        {selected ? (\n          <MUITableCell colSpan={colSpan}>\n             <div>\n              {selected && <Typography>Selected {selected} items</Typography>}\n              <div />\n              {toolbar && <div>{toolbar}</div>}\n            </div>\n          </MUITableCell>\n        ) : (\n          children\n        )}\n      </MUITableRow>\n    </MuiTableHead>\n  )\n}\n\nexport default TableHead\n","import MUITableCell, {\n  TableCellProps as MUITableCellProps\n} from '@material-ui/core/TableCell'\nimport React from 'react'\n\nexport interface TableCellHeaderProps extends MUITableCellProps {\n  textAlign?: 'left' | 'center' | 'right'\n}\n\nconst TableCellHeader = ({ children, ...rest }: TableCellHeaderProps) => {\n  return <MUITableCell {...rest}>{children}</MUITableCell>\n}\n\nexport default TableCellHeader\n","import * as React from 'react'\nimport MUITable from '@material-ui/core/Table'\nimport MUITableBody from '@material-ui/core/TableBody'\nimport MUITableRow from '@material-ui/core/TableRow'\nimport MUITableCell, { TableCellProps } from '@material-ui/core/TableCell'\nimport MUITableFooter from '@material-ui/core/TableFooter'\nimport MUITablePagination from '@material-ui/core/TablePagination'\nimport MUICheckbox from '@material-ui/core/Checkbox'\nimport MUISkeleton from '@material-ui/lab/Skeleton'\nimport TableHead, { TableHeadProps } from './components/TableHead'\nimport TableCellHeader from './components/TableCellHeader'\n\ninterface ColumnType extends TableCellProps {\n  title: string\n  key: string\n  dataIndex: string\n}\n\ninterface PaginationType {\n  labelRowsPerPage?: React.ReactNode\n  rowsPerPageOptions?: Array<number | { value: number; label: string }>\n  rowsPerPage?: number\n  count: number\n  page: number\n  onPageChange: (\n    page: number,\n    size: number,\n    order: 'asc' | 'desc',\n    field: string\n  ) => void\n}\n\nexport interface TableBuilderProps<T>\n  extends TableHeadProps<T>,\n    PaginationType {\n  columns: ColumnType[]\n  className?: string\n  noDataMessage?: string\n  loading?: boolean\n\n  data?: T[]\n\n  draggable?: boolean\n\n  selectable?: boolean\n  selectKey?: string\n  isChecked: (key: string) => boolean\n  toggle?: (item: T) => void\n}\n\nconst PAGINATION_SIZES = [5, 10, 25]\nconst DEFAULT_PAGINATION_SIZE = 5\n\nfunction renderTable<T>(\n  collection: T[] | undefined,\n  loading: boolean,\n  renderItem: (\n    item: T | undefined,\n    index: number | undefined,\n    collection: T[]\n  ) => any,\n  renderEmpty?: () => any,\n  renderLoading?: () => any\n) {\n  if (loading) {\n    return renderLoading ? renderLoading() : null\n  }\n  if (collection === undefined) {\n    return renderEmpty ? renderEmpty() : null\n  }\n  if (collection.length === 0) {\n    return renderEmpty ? renderEmpty() : null\n  }\n  return collection.map(renderItem)\n}\n\nconst TableBuilder = ({\n  className,\n  columns,\n  noDataMessage = 'No Data Available',\n  selectable,\n  draggable,\n  loading = false,\n  labelRowsPerPage,\n  rowsPerPageOptions = PAGINATION_SIZES,\n  rowsPerPage = DEFAULT_PAGINATION_SIZE,\n  count = 0,\n  page,\n  onPageChange,\n  data,\n  selectKey = 'id',\n  isChecked,\n  selected = 0,\n  toggle,\n  toggleAll,\n  toolbar\n}: TableBuilderProps<any>) => {\n  let noOfColumns = columns.length\n\n  if (selectable) {\n    noOfColumns += 1\n  }\n\n  if (draggable) {\n    noOfColumns += 1\n  }\n\n  return (\n    <MUITable className={className}>\n      <TableHead\n        selected={selected}\n        colSpan={noOfColumns}\n        selectable={selectable}\n        toggleAll={toggleAll}\n        items={data}\n        toolbar={toolbar}\n        loading={loading}\n      >\n        {columns &&\n          columns.map(({ title, key, ...rest }: ColumnType) => (\n            <TableCellHeader key={key} {...rest}>\n              <span>{title}</span>\n            </TableCellHeader>\n          ))}\n      </TableHead>\n      <MUITableBody>\n        {renderTable(\n          data,\n          loading,\n          (rowData, index) => {\n            const isSelected = rowData ? isChecked(rowData[selectKey]) : false\n            return (\n              <MUITableRow\n                selected={isSelected}\n                hover={!!rowData}\n                key={rowData && 'id' in rowData ? rowData.id : index}\n              >\n                {selectable && (\n                  <MUITableCell padding='checkbox'>\n                    <MUICheckbox\n                      checked={isSelected}\n                      onChange={() => {\n                        if (toggle && rowData) {\n                          toggle(rowData)\n                        }\n                      }}\n                    />\n                  </MUITableCell>\n                )}\n                {columns &&\n                  columns.map(({ key, dataIndex, ...rest }) => (\n                    <MUITableCell data-test={dataIndex} key={key} {...rest}>\n                      {rowData && key in rowData ? rowData[key] : '-'}\n                    </MUITableCell>\n                  ))}\n              </MUITableRow>\n            )\n          },\n          () => (\n            <MUITableRow>\n              <MUITableCell colSpan={noOfColumns}>{noDataMessage}</MUITableCell>\n            </MUITableRow>\n          ),\n          () => (\n            <MUITableRow>\n              {columns &&\n                columns.map(({ key, dataIndex }) => (\n                  <MUITableCell data-test={dataIndex} key={key}>\n                    <MUISkeleton animation='wave' variant='text' />\n                  </MUITableCell>\n                ))}\n            </MUITableRow>\n          )\n        )}\n      </MUITableBody>\n      {!loading && (\n        <MUITableFooter>\n          <MUITableRow>\n            <MUITablePagination\n              colSpan={noOfColumns}\n              labelRowsPerPage={labelRowsPerPage}\n              rowsPerPageOptions={rowsPerPageOptions}\n              count={count}\n              rowsPerPage={rowsPerPage}\n              page={page >= 1 ? page - 1 : 0}\n              onChangePage={(_: any, currentPage: number) => {\n                onPageChange(currentPage + 1, rowsPerPage, 'asc', '')\n              }}\n              onChangeRowsPerPage={(e: any) => {\n                onPageChange(\n                  page,\n                  parseInt(e.target.value as string),\n                  'asc',\n                  ''\n                )\n              }}\n            />\n          </MUITableRow>\n        </MUITableFooter>\n      )}\n    </MUITable>\n  )\n}\n\nexport default TableBuilder\n","import React from 'react'\nimport faker from 'faker'\n\nimport { TableBuilder, useTableActions } from 'acadamia-table-builder'\n// import Button from '@material-ui/core/Button'\n// import 'acadamia-table-builder/dist/index.css'\n\nconst generateDummyData = (count: number): any[] => {\n  return [...Array(count)]\n    .map(() => ({\n      firstName: faker.name.firstName(),\n      lastName: faker.name.lastName(),\n      email: faker.internet.email(),\n      phone: faker.phone.phoneNumber()\n    }))\n    .map((data, index) => ({\n      ...data,\n      name: `${data.firstName} ${data.lastName}`,\n      id: index.toString()\n    }))\n}\n\nconst App = () => {\n  const { isSelected, toggle, toggleAll, listElements } =\n    useTableActions<string>([])\n\n  const data = generateDummyData(10)\n\n  console.log(data)\n  return (\n    <TableBuilder\n      loading={false}\n      columns={[\n        {\n          key: 'name',\n          title: 'Name',\n          dataIndex: 'name',\n        },\n        {\n          key: 'email',\n          title: 'Email',\n          dataIndex: 'email'\n        },\n        {\n          key: 'phone',\n          title: 'Phone',\n          dataIndex: 'phone'\n        }\n      ]}\n      data={data}\n      onPageChange={() => {\n        console.log('Page Change')\n      }}\n      count={data.length}\n      isChecked={isSelected}\n      selectable\n      toggle={(item: any) => {\n        toggle(item.id)\n      }}\n      selected={listElements.length}\n      toggleAll={(items: any[], selected: number) => {\n        toggleAll(\n          items.map((item) => item.id),\n          selected\n        )\n      }}\n      page={1}\n      // toolbar={\n      //   <>\n      //     <Button color='primary'>Unpublish</Button>\n      //     <Button color='primary'>Publish</Button>\n      //     {/* <IconButton\n      //       color='primary'\n      //       onClick={() =>\n      //         openModal('delete', {\n      //           ids: listElements\n      //         })\n      //       }\n      //     >\n      //       <DeleteIcon />\n      //     </IconButton> */}\n      //   </>\n      // }\n    />\n  )\n}\n\nexport default App\n","import { useState } from 'react'\n\nfunction useTableActions<T>(\n  initial: T[] = [],\n  compareFunc: (a: T, b: T) => boolean = (a, b) => a === b\n) {\n  const [listElements, setListElements] = useState(initial)\n\n  function add(data: T) {\n    setListElements([...listElements, data])\n  }\n\n  function remove(data: T) {\n    setListElements(\n      listElements.filter((listElement) => !compareFunc(listElement, data))\n    )\n  }\n\n  function reset() {\n    setListElements([])\n  }\n\n  function isSelected(data: T) {\n    return !!listElements.find((listElement) => compareFunc(listElement, data))\n  }\n\n  function set(data: T[]) {\n    setListElements(data)\n  }\n\n  function toggle(data: T) {\n    if (isSelected(data)) {\n      remove(data)\n    } else {\n      add(data)\n    }\n  }\n\n  function toggleAll(data: T[], selected: number) {\n    const allItems = data.filter((item) => !!item)\n    reset()\n    if (selected !== allItems.length) {\n      set(allItems)\n    }\n  }\n\n  return {\n    add,\n    remove,\n    reset,\n    isSelected,\n    set,\n    toggle,\n    toggleAll,\n    listElements\n  }\n}\n\nexport default useTableActions\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}